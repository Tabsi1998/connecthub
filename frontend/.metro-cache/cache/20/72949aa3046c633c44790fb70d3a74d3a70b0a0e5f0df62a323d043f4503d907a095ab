{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":69,"index":159}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":160},"end":{"line":3,"column":34,"index":194}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/src/context/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.AuthProvider = AuthProvider;\n  exports.useAuth = useAuth;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _servicesApi = require(_dependencyMap[2], \"../services/api\");\n  var api = _interopDefault(_servicesApi);\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  function AuthProvider({\n    children\n  }) {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [isLoading, setIsLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await AsyncStorage.default.getItem('token');\n        const storedUser = await AsyncStorage.default.getItem('user');\n        if (storedToken && storedUser) {\n          setToken(storedToken);\n          setUser(JSON.parse(storedUser));\n          api.default.defaults.headers.common['Authorization'] = `Bearer ${storedToken}`;\n        }\n      } catch (error) {\n        console.error('Error loading auth:', error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      const response = await api.default.post('/api/auth/login', {\n        email,\n        password\n      });\n      const {\n        token: newToken,\n        user: newUser\n      } = response.data;\n      await AsyncStorage.default.setItem('token', newToken);\n      await AsyncStorage.default.setItem('user', JSON.stringify(newUser));\n      api.default.defaults.headers.common['Authorization'] = `Bearer ${newToken}`;\n      setToken(newToken);\n      setUser(newUser);\n    };\n    const register = async (email, password, name) => {\n      const response = await api.default.post('/api/auth/register', {\n        email,\n        password,\n        name\n      });\n      const {\n        token: newToken,\n        user: newUser\n      } = response.data;\n      await AsyncStorage.default.setItem('token', newToken);\n      await AsyncStorage.default.setItem('user', JSON.stringify(newUser));\n      api.default.defaults.headers.common['Authorization'] = `Bearer ${newToken}`;\n      setToken(newToken);\n      setUser(newUser);\n    };\n    const logout = async () => {\n      await AsyncStorage.default.removeItem('token');\n      await AsyncStorage.default.removeItem('user');\n      delete api.default.defaults.headers.common['Authorization'];\n      setToken(null);\n      setUser(null);\n    };\n    const updateUser = data => {\n      if (user) {\n        const updated = {\n          ...user,\n          ...data\n        };\n        setUser(updated);\n        AsyncStorage.default.setItem('user', JSON.stringify(updated));\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        isLoading,\n        login,\n        register,\n        logout,\n        updateUser\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 5\n    }, this);\n  }\n  function useAuth() {\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  }\n});","lineCount":118,"map":[[13,2,27,0,"exports"],[13,9,27,0],[13,10,27,0,"AuthProvider"],[13,22,27,0],[13,25,27,0,"AuthProvider"],[13,37,27,0],[14,2,100,0,"exports"],[14,9,100,0],[14,10,100,0,"useAuth"],[14,17,100,0],[14,20,100,0,"useAuth"],[14,27,100,0],[15,2,1,0],[15,6,1,0,"_react"],[15,12,1,0],[15,15,1,0,"require"],[15,22,1,0],[15,23,1,0,"_dependencyMap"],[15,37,1,0],[16,2,2,0],[16,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[16,42,2,0],[16,45,2,0,"require"],[16,52,2,0],[16,53,2,0,"_dependencyMap"],[16,67,2,0],[17,2,2,0],[17,6,2,0,"AsyncStorage"],[17,18,2,0],[17,21,2,0,"_interopDefault"],[17,36,2,0],[17,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[17,73,2,0],[18,2,3,0],[18,6,3,0,"_servicesApi"],[18,18,3,0],[18,21,3,0,"require"],[18,28,3,0],[18,29,3,0,"_dependencyMap"],[18,43,3,0],[19,2,3,0],[19,6,3,0,"api"],[19,9,3,0],[19,12,3,0,"_interopDefault"],[19,27,3,0],[19,28,3,0,"_servicesApi"],[19,40,3,0],[20,2,3,34],[20,6,3,34,"_reactJsxDevRuntime"],[20,25,3,34],[20,28,3,34,"require"],[20,35,3,34],[20,36,3,34,"_dependencyMap"],[20,50,3,34],[21,2,25,0],[21,8,25,6,"AuthContext"],[21,19,25,17],[21,35,25,20],[21,39,25,20,"createContext"],[21,45,25,33],[21,46,25,33,"createContext"],[21,59,25,33],[21,61,25,63,"undefined"],[21,70,25,72],[21,71,25,73],[22,2,27,7],[22,11,27,16,"AuthProvider"],[22,23,27,28,"AuthProvider"],[22,24,27,29],[23,4,27,31,"children"],[24,2,27,65],[24,3,27,66],[24,5,27,68],[25,4,28,2],[25,10,28,8],[25,11,28,9,"user"],[25,15,28,13],[25,17,28,15,"setUser"],[25,24,28,22],[25,25,28,23],[25,28,28,26],[25,32,28,26,"useState"],[25,38,28,34],[25,39,28,34,"useState"],[25,47,28,34],[25,49,28,48],[25,53,28,52],[25,54,28,53],[26,4,29,2],[26,10,29,8],[26,11,29,9,"token"],[26,16,29,14],[26,18,29,16,"setToken"],[26,26,29,24],[26,27,29,25],[26,30,29,28],[26,34,29,28,"useState"],[26,40,29,36],[26,41,29,36,"useState"],[26,49,29,36],[26,51,29,52],[26,55,29,56],[26,56,29,57],[27,4,30,2],[27,10,30,8],[27,11,30,9,"isLoading"],[27,20,30,18],[27,22,30,20,"setIsLoading"],[27,34,30,32],[27,35,30,33],[27,38,30,36],[27,42,30,36,"useState"],[27,48,30,44],[27,49,30,44,"useState"],[27,57,30,44],[27,59,30,45],[27,63,30,49],[27,64,30,50],[28,4,32,2],[28,8,32,2,"useEffect"],[28,14,32,11],[28,15,32,11,"useEffect"],[28,24,32,11],[28,26,32,12],[28,32,32,18],[29,6,33,4,"loadStoredAuth"],[29,20,33,18],[29,21,33,19],[29,22,33,20],[30,4,34,2],[30,5,34,3],[30,7,34,5],[30,9,34,7],[30,10,34,8],[31,4,36,2],[31,10,36,8,"loadStoredAuth"],[31,24,36,22],[31,27,36,25],[31,33,36,25,"loadStoredAuth"],[31,34,36,25],[31,39,36,37],[32,6,37,4],[32,10,37,8],[33,8,38,6],[33,14,38,12,"storedToken"],[33,25,38,23],[33,28,38,26],[33,34,38,32,"AsyncStorage"],[33,46,38,44],[33,47,38,44,"default"],[33,54,38,44],[33,55,38,45,"getItem"],[33,62,38,52],[33,63,38,53],[33,70,38,60],[33,71,38,61],[34,8,39,6],[34,14,39,12,"storedUser"],[34,24,39,22],[34,27,39,25],[34,33,39,31,"AsyncStorage"],[34,45,39,43],[34,46,39,43,"default"],[34,53,39,43],[34,54,39,44,"getItem"],[34,61,39,51],[34,62,39,52],[34,68,39,58],[34,69,39,59],[35,8,41,6],[35,12,41,10,"storedToken"],[35,23,41,21],[35,27,41,25,"storedUser"],[35,37,41,35],[35,39,41,37],[36,10,42,8,"setToken"],[36,18,42,16],[36,19,42,17,"storedToken"],[36,30,42,28],[36,31,42,29],[37,10,43,8,"setUser"],[37,17,43,15],[37,18,43,16,"JSON"],[37,22,43,20],[37,23,43,21,"parse"],[37,28,43,26],[37,29,43,27,"storedUser"],[37,39,43,37],[37,40,43,38],[37,41,43,39],[38,10,44,8,"api"],[38,13,44,11],[38,14,44,11,"default"],[38,21,44,11],[38,22,44,12,"defaults"],[38,30,44,20],[38,31,44,21,"headers"],[38,38,44,28],[38,39,44,29,"common"],[38,45,44,35],[38,46,44,36],[38,61,44,51],[38,62,44,52],[38,65,44,55],[38,75,44,65,"storedToken"],[38,86,44,76],[38,88,44,78],[39,8,45,6],[40,6,46,4],[40,7,46,5],[40,8,46,6],[40,15,46,13,"error"],[40,20,46,18],[40,22,46,20],[41,8,47,6,"console"],[41,15,47,13],[41,16,47,14,"error"],[41,21,47,19],[41,22,47,20],[41,43,47,41],[41,45,47,43,"error"],[41,50,47,48],[41,51,47,49],[42,6,48,4],[42,7,48,5],[42,16,48,14],[43,8,49,6,"setIsLoading"],[43,20,49,18],[43,21,49,19],[43,26,49,24],[43,27,49,25],[44,6,50,4],[45,4,51,2],[45,5,51,3],[46,4,53,2],[46,10,53,8,"login"],[46,15,53,13],[46,18,53,16],[46,24,53,16,"login"],[46,25,53,23,"email"],[46,30,53,36],[46,32,53,38,"password"],[46,40,53,54],[46,45,53,59],[47,6,54,4],[47,12,54,10,"response"],[47,20,54,18],[47,23,54,21],[47,29,54,27,"api"],[47,32,54,30],[47,33,54,30,"default"],[47,40,54,30],[47,41,54,31,"post"],[47,45,54,35],[47,46,54,36],[47,63,54,53],[47,65,54,55],[48,8,54,57,"email"],[48,13,54,62],[49,8,54,64,"password"],[50,6,54,73],[50,7,54,74],[50,8,54,75],[51,6,55,4],[51,12,55,10],[52,8,55,12,"token"],[52,13,55,17],[52,15,55,19,"newToken"],[52,23,55,27],[53,8,55,29,"user"],[53,12,55,33],[53,14,55,35,"newUser"],[54,6,55,43],[54,7,55,44],[54,10,55,47,"response"],[54,18,55,55],[54,19,55,56,"data"],[54,23,55,60],[55,6,57,4],[55,12,57,10,"AsyncStorage"],[55,24,57,22],[55,25,57,22,"default"],[55,32,57,22],[55,33,57,23,"setItem"],[55,40,57,30],[55,41,57,31],[55,48,57,38],[55,50,57,40,"newToken"],[55,58,57,48],[55,59,57,49],[56,6,58,4],[56,12,58,10,"AsyncStorage"],[56,24,58,22],[56,25,58,22,"default"],[56,32,58,22],[56,33,58,23,"setItem"],[56,40,58,30],[56,41,58,31],[56,47,58,37],[56,49,58,39,"JSON"],[56,53,58,43],[56,54,58,44,"stringify"],[56,63,58,53],[56,64,58,54,"newUser"],[56,71,58,61],[56,72,58,62],[56,73,58,63],[57,6,60,4,"api"],[57,9,60,7],[57,10,60,7,"default"],[57,17,60,7],[57,18,60,8,"defaults"],[57,26,60,16],[57,27,60,17,"headers"],[57,34,60,24],[57,35,60,25,"common"],[57,41,60,31],[57,42,60,32],[57,57,60,47],[57,58,60,48],[57,61,60,51],[57,71,60,61,"newToken"],[57,79,60,69],[57,81,60,71],[58,6,61,4,"setToken"],[58,14,61,12],[58,15,61,13,"newToken"],[58,23,61,21],[58,24,61,22],[59,6,62,4,"setUser"],[59,13,62,11],[59,14,62,12,"newUser"],[59,21,62,19],[59,22,62,20],[60,4,63,2],[60,5,63,3],[61,4,65,2],[61,10,65,8,"register"],[61,18,65,16],[61,21,65,19],[61,27,65,19,"register"],[61,28,65,26,"email"],[61,33,65,39],[61,35,65,41,"password"],[61,43,65,57],[61,45,65,59,"name"],[61,49,65,71],[61,54,65,76],[62,6,66,4],[62,12,66,10,"response"],[62,20,66,18],[62,23,66,21],[62,29,66,27,"api"],[62,32,66,30],[62,33,66,30,"default"],[62,40,66,30],[62,41,66,31,"post"],[62,45,66,35],[62,46,66,36],[62,66,66,56],[62,68,66,58],[63,8,66,60,"email"],[63,13,66,65],[64,8,66,67,"password"],[64,16,66,75],[65,8,66,77,"name"],[66,6,66,82],[66,7,66,83],[66,8,66,84],[67,6,67,4],[67,12,67,10],[68,8,67,12,"token"],[68,13,67,17],[68,15,67,19,"newToken"],[68,23,67,27],[69,8,67,29,"user"],[69,12,67,33],[69,14,67,35,"newUser"],[70,6,67,43],[70,7,67,44],[70,10,67,47,"response"],[70,18,67,55],[70,19,67,56,"data"],[70,23,67,60],[71,6,69,4],[71,12,69,10,"AsyncStorage"],[71,24,69,22],[71,25,69,22,"default"],[71,32,69,22],[71,33,69,23,"setItem"],[71,40,69,30],[71,41,69,31],[71,48,69,38],[71,50,69,40,"newToken"],[71,58,69,48],[71,59,69,49],[72,6,70,4],[72,12,70,10,"AsyncStorage"],[72,24,70,22],[72,25,70,22,"default"],[72,32,70,22],[72,33,70,23,"setItem"],[72,40,70,30],[72,41,70,31],[72,47,70,37],[72,49,70,39,"JSON"],[72,53,70,43],[72,54,70,44,"stringify"],[72,63,70,53],[72,64,70,54,"newUser"],[72,71,70,61],[72,72,70,62],[72,73,70,63],[73,6,72,4,"api"],[73,9,72,7],[73,10,72,7,"default"],[73,17,72,7],[73,18,72,8,"defaults"],[73,26,72,16],[73,27,72,17,"headers"],[73,34,72,24],[73,35,72,25,"common"],[73,41,72,31],[73,42,72,32],[73,57,72,47],[73,58,72,48],[73,61,72,51],[73,71,72,61,"newToken"],[73,79,72,69],[73,81,72,71],[74,6,73,4,"setToken"],[74,14,73,12],[74,15,73,13,"newToken"],[74,23,73,21],[74,24,73,22],[75,6,74,4,"setUser"],[75,13,74,11],[75,14,74,12,"newUser"],[75,21,74,19],[75,22,74,20],[76,4,75,2],[76,5,75,3],[77,4,77,2],[77,10,77,8,"logout"],[77,16,77,14],[77,19,77,17],[77,25,77,17,"logout"],[77,26,77,17],[77,31,77,29],[78,6,78,4],[78,12,78,10,"AsyncStorage"],[78,24,78,22],[78,25,78,22,"default"],[78,32,78,22],[78,33,78,23,"removeItem"],[78,43,78,33],[78,44,78,34],[78,51,78,41],[78,52,78,42],[79,6,79,4],[79,12,79,10,"AsyncStorage"],[79,24,79,22],[79,25,79,22,"default"],[79,32,79,22],[79,33,79,23,"removeItem"],[79,43,79,33],[79,44,79,34],[79,50,79,40],[79,51,79,41],[80,6,80,4],[80,13,80,11,"api"],[80,16,80,14],[80,17,80,14,"default"],[80,24,80,14],[80,25,80,15,"defaults"],[80,33,80,23],[80,34,80,24,"headers"],[80,41,80,31],[80,42,80,32,"common"],[80,48,80,38],[80,49,80,39],[80,64,80,54],[80,65,80,55],[81,6,81,4,"setToken"],[81,14,81,12],[81,15,81,13],[81,19,81,17],[81,20,81,18],[82,6,82,4,"setUser"],[82,13,82,11],[82,14,82,12],[82,18,82,16],[82,19,82,17],[83,4,83,2],[83,5,83,3],[84,4,85,2],[84,10,85,8,"updateUser"],[84,20,85,18],[84,23,85,22,"data"],[84,27,85,41],[84,31,85,46],[85,6,86,4],[85,10,86,8,"user"],[85,14,86,12],[85,16,86,14],[86,8,87,6],[86,14,87,12,"updated"],[86,21,87,19],[86,24,87,22],[87,10,87,24],[87,13,87,27,"user"],[87,17,87,31],[88,10,87,33],[88,13,87,36,"data"],[89,8,87,41],[89,9,87,42],[90,8,88,6,"setUser"],[90,15,88,13],[90,16,88,14,"updated"],[90,23,88,21],[90,24,88,22],[91,8,89,6,"AsyncStorage"],[91,20,89,18],[91,21,89,18,"default"],[91,28,89,18],[91,29,89,19,"setItem"],[91,36,89,26],[91,37,89,27],[91,43,89,33],[91,45,89,35,"JSON"],[91,49,89,39],[91,50,89,40,"stringify"],[91,59,89,49],[91,60,89,50,"updated"],[91,67,89,57],[91,68,89,58],[91,69,89,59],[92,6,90,4],[93,4,91,2],[93,5,91,3],[94,4,93,2],[94,24,94,4],[94,28,94,4,"_reactJsxDevRuntime"],[94,47,94,4],[94,48,94,4,"jsxDEV"],[94,54,94,4],[94,56,94,5,"AuthContext"],[94,67,94,16],[94,68,94,17,"Provider"],[94,76,94,25],[95,6,94,26,"value"],[95,11,94,31],[95,13,94,33],[96,8,94,35,"user"],[96,12,94,39],[97,8,94,41,"token"],[97,13,94,46],[98,8,94,48,"isLoading"],[98,17,94,57],[99,8,94,59,"login"],[99,13,94,64],[100,8,94,66,"register"],[100,16,94,74],[101,8,94,76,"logout"],[101,14,94,82],[102,8,94,84,"updateUser"],[103,6,94,95],[103,7,94,97],[104,6,94,97,"children"],[104,14,94,97],[104,16,95,7,"children"],[105,4,95,15],[106,6,95,15,"fileName"],[106,14,95,15],[106,16,95,15,"_jsxFileName"],[106,28,95,15],[107,6,95,15,"lineNumber"],[107,16,95,15],[108,6,95,15,"columnNumber"],[108,18,95,15],[109,4,95,15],[109,11,96,26],[109,12,96,27],[110,2,98,0],[111,2,100,7],[111,11,100,16,"useAuth"],[111,18,100,23,"useAuth"],[111,19,100,23],[111,21,100,26],[112,4,101,2],[112,10,101,8,"context"],[112,17,101,15],[112,20,101,18],[112,24,101,18,"useContext"],[112,30,101,28],[112,31,101,28,"useContext"],[112,41,101,28],[112,43,101,29,"AuthContext"],[112,54,101,40],[112,55,101,41],[113,4,102,2],[113,8,102,6,"context"],[113,15,102,13],[113,20,102,18,"undefined"],[113,29,102,27],[113,31,102,29],[114,6,103,4],[114,12,103,10],[114,16,103,14,"Error"],[114,21,103,19],[114,22,103,20],[114,67,103,65],[114,68,103,66],[115,4,104,2],[116,4,105,2],[116,11,105,9,"context"],[116,18,105,16],[117,2,106,0],[118,0,106,1],[118,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","register","logout","updateUser","useAuth"],"mappings":"AAA;OC0B;YCK;GDE;yBEE;GFe;gBGE;GHU;mBIE;GJU;iBKE;GLM;qBME;GNM;CDO;OQE;CRM"},"hasCjsExports":false},"type":"js/module"}]}