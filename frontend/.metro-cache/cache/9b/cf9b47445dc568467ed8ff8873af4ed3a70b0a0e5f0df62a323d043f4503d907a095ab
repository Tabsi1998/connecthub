{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":69,"index":159}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":160},"end":{"line":3,"column":34,"index":194}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/src/context/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.AuthProvider = AuthProvider;\n  exports.useAuth = useAuth;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _servicesApi = require(_dependencyMap[2], \"../services/api\");\n  var api = _interopDefault(_servicesApi);\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  function AuthProvider({\n    children\n  }) {\n    _s();\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [isLoading, setIsLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await AsyncStorage.default.getItem('token');\n        const storedUser = await AsyncStorage.default.getItem('user');\n        if (storedToken && storedUser) {\n          setToken(storedToken);\n          setUser(JSON.parse(storedUser));\n          api.default.defaults.headers.common['Authorization'] = `Bearer ${storedToken}`;\n        }\n      } catch (error) {\n        console.error('Error loading auth:', error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      const response = await api.default.post('/api/auth/login', {\n        email,\n        password\n      });\n      const {\n        token: newToken,\n        user: newUser\n      } = response.data;\n      await AsyncStorage.default.setItem('token', newToken);\n      await AsyncStorage.default.setItem('user', JSON.stringify(newUser));\n      api.default.defaults.headers.common['Authorization'] = `Bearer ${newToken}`;\n      setToken(newToken);\n      setUser(newUser);\n    };\n    const register = async (email, password, name) => {\n      const response = await api.default.post('/api/auth/register', {\n        email,\n        password,\n        name\n      });\n      const {\n        token: newToken,\n        user: newUser\n      } = response.data;\n      await AsyncStorage.default.setItem('token', newToken);\n      await AsyncStorage.default.setItem('user', JSON.stringify(newUser));\n      api.default.defaults.headers.common['Authorization'] = `Bearer ${newToken}`;\n      setToken(newToken);\n      setUser(newUser);\n    };\n    const logout = async () => {\n      await AsyncStorage.default.removeItem('token');\n      await AsyncStorage.default.removeItem('user');\n      delete api.default.defaults.headers.common['Authorization'];\n      setToken(null);\n      setUser(null);\n    };\n    const updateUser = data => {\n      if (user) {\n        const updated = Object.assign({}, user, data);\n        setUser(updated);\n        AsyncStorage.default.setItem('user', JSON.stringify(updated));\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        isLoading,\n        login,\n        register,\n        logout,\n        updateUser\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 5\n    }, this);\n  }\n  _s(AuthProvider, \"mX4/AXRUN66G8j/NKXHYWKblzjI=\");\n  _c = AuthProvider;\n  function useAuth() {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  }\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":124,"map":[[15,2,27,0,"exports"],[15,9,27,0],[15,10,27,0,"AuthProvider"],[15,22,27,0],[15,25,27,0,"AuthProvider"],[15,37,27,0],[16,2,100,0,"exports"],[16,9,100,0],[16,10,100,0,"useAuth"],[16,17,100,0],[16,20,100,0,"useAuth"],[16,27,100,0],[17,2,1,0],[17,6,1,0,"_react"],[17,12,1,0],[17,15,1,0,"require"],[17,22,1,0],[17,23,1,0,"_dependencyMap"],[17,37,1,0],[18,2,2,0],[18,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[18,42,2,0],[18,45,2,0,"require"],[18,52,2,0],[18,53,2,0,"_dependencyMap"],[18,67,2,0],[19,2,2,0],[19,6,2,0,"AsyncStorage"],[19,18,2,0],[19,21,2,0,"_interopDefault"],[19,36,2,0],[19,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[19,73,2,0],[20,2,3,0],[20,6,3,0,"_servicesApi"],[20,18,3,0],[20,21,3,0,"require"],[20,28,3,0],[20,29,3,0,"_dependencyMap"],[20,43,3,0],[21,2,3,0],[21,6,3,0,"api"],[21,9,3,0],[21,12,3,0,"_interopDefault"],[21,27,3,0],[21,28,3,0,"_servicesApi"],[21,40,3,0],[22,2,3,34],[22,6,3,34,"_reactJsxDevRuntime"],[22,25,3,34],[22,28,3,34,"require"],[22,35,3,34],[22,36,3,34,"_dependencyMap"],[22,50,3,34],[23,2,25,0],[23,8,25,6,"AuthContext"],[23,19,25,17],[23,35,25,20],[23,39,25,20,"createContext"],[23,45,25,33],[23,46,25,33,"createContext"],[23,59,25,33],[23,61,25,63,"undefined"],[23,70,25,72],[23,71,25,73],[24,2,27,7],[24,11,27,16,"AuthProvider"],[24,23,27,28,"AuthProvider"],[24,24,27,29],[25,4,27,31,"children"],[26,2,27,65],[26,3,27,66],[26,5,27,68],[27,4,27,68,"_s"],[27,6,27,68],[28,4,28,2],[28,10,28,8],[28,11,28,9,"user"],[28,15,28,13],[28,17,28,15,"setUser"],[28,24,28,22],[28,25,28,23],[28,28,28,26],[28,32,28,26,"useState"],[28,38,28,34],[28,39,28,34,"useState"],[28,47,28,34],[28,49,28,48],[28,53,28,52],[28,54,28,53],[29,4,29,2],[29,10,29,8],[29,11,29,9,"token"],[29,16,29,14],[29,18,29,16,"setToken"],[29,26,29,24],[29,27,29,25],[29,30,29,28],[29,34,29,28,"useState"],[29,40,29,36],[29,41,29,36,"useState"],[29,49,29,36],[29,51,29,52],[29,55,29,56],[29,56,29,57],[30,4,30,2],[30,10,30,8],[30,11,30,9,"isLoading"],[30,20,30,18],[30,22,30,20,"setIsLoading"],[30,34,30,32],[30,35,30,33],[30,38,30,36],[30,42,30,36,"useState"],[30,48,30,44],[30,49,30,44,"useState"],[30,57,30,44],[30,59,30,45],[30,63,30,49],[30,64,30,50],[31,4,32,2],[31,8,32,2,"useEffect"],[31,14,32,11],[31,15,32,11,"useEffect"],[31,24,32,11],[31,26,32,12],[31,32,32,18],[32,6,33,4,"loadStoredAuth"],[32,20,33,18],[32,21,33,19],[32,22,33,20],[33,4,34,2],[33,5,34,3],[33,7,34,5],[33,9,34,7],[33,10,34,8],[34,4,36,2],[34,10,36,8,"loadStoredAuth"],[34,24,36,22],[34,27,36,25],[34,33,36,25,"loadStoredAuth"],[34,34,36,25],[34,39,36,37],[35,6,37,4],[35,10,37,8],[36,8,38,6],[36,14,38,12,"storedToken"],[36,25,38,23],[36,28,38,26],[36,34,38,32,"AsyncStorage"],[36,46,38,44],[36,47,38,44,"default"],[36,54,38,44],[36,55,38,45,"getItem"],[36,62,38,52],[36,63,38,53],[36,70,38,60],[36,71,38,61],[37,8,39,6],[37,14,39,12,"storedUser"],[37,24,39,22],[37,27,39,25],[37,33,39,31,"AsyncStorage"],[37,45,39,43],[37,46,39,43,"default"],[37,53,39,43],[37,54,39,44,"getItem"],[37,61,39,51],[37,62,39,52],[37,68,39,58],[37,69,39,59],[38,8,41,6],[38,12,41,10,"storedToken"],[38,23,41,21],[38,27,41,25,"storedUser"],[38,37,41,35],[38,39,41,37],[39,10,42,8,"setToken"],[39,18,42,16],[39,19,42,17,"storedToken"],[39,30,42,28],[39,31,42,29],[40,10,43,8,"setUser"],[40,17,43,15],[40,18,43,16,"JSON"],[40,22,43,20],[40,23,43,21,"parse"],[40,28,43,26],[40,29,43,27,"storedUser"],[40,39,43,37],[40,40,43,38],[40,41,43,39],[41,10,44,8,"api"],[41,13,44,11],[41,14,44,11,"default"],[41,21,44,11],[41,22,44,12,"defaults"],[41,30,44,20],[41,31,44,21,"headers"],[41,38,44,28],[41,39,44,29,"common"],[41,45,44,35],[41,46,44,36],[41,61,44,51],[41,62,44,52],[41,65,44,55],[41,75,44,65,"storedToken"],[41,86,44,76],[41,88,44,78],[42,8,45,6],[43,6,46,4],[43,7,46,5],[43,8,46,6],[43,15,46,13,"error"],[43,20,46,18],[43,22,46,20],[44,8,47,6,"console"],[44,15,47,13],[44,16,47,14,"error"],[44,21,47,19],[44,22,47,20],[44,43,47,41],[44,45,47,43,"error"],[44,50,47,48],[44,51,47,49],[45,6,48,4],[45,7,48,5],[45,16,48,14],[46,8,49,6,"setIsLoading"],[46,20,49,18],[46,21,49,19],[46,26,49,24],[46,27,49,25],[47,6,50,4],[48,4,51,2],[48,5,51,3],[49,4,53,2],[49,10,53,8,"login"],[49,15,53,13],[49,18,53,16],[49,24,53,16,"login"],[49,25,53,23,"email"],[49,30,53,36],[49,32,53,38,"password"],[49,40,53,54],[49,45,53,59],[50,6,54,4],[50,12,54,10,"response"],[50,20,54,18],[50,23,54,21],[50,29,54,27,"api"],[50,32,54,30],[50,33,54,30,"default"],[50,40,54,30],[50,41,54,31,"post"],[50,45,54,35],[50,46,54,36],[50,63,54,53],[50,65,54,55],[51,8,54,57,"email"],[51,13,54,62],[52,8,54,64,"password"],[53,6,54,73],[53,7,54,74],[53,8,54,75],[54,6,55,4],[54,12,55,10],[55,8,55,12,"token"],[55,13,55,17],[55,15,55,19,"newToken"],[55,23,55,27],[56,8,55,29,"user"],[56,12,55,33],[56,14,55,35,"newUser"],[57,6,55,43],[57,7,55,44],[57,10,55,47,"response"],[57,18,55,55],[57,19,55,56,"data"],[57,23,55,60],[58,6,57,4],[58,12,57,10,"AsyncStorage"],[58,24,57,22],[58,25,57,22,"default"],[58,32,57,22],[58,33,57,23,"setItem"],[58,40,57,30],[58,41,57,31],[58,48,57,38],[58,50,57,40,"newToken"],[58,58,57,48],[58,59,57,49],[59,6,58,4],[59,12,58,10,"AsyncStorage"],[59,24,58,22],[59,25,58,22,"default"],[59,32,58,22],[59,33,58,23,"setItem"],[59,40,58,30],[59,41,58,31],[59,47,58,37],[59,49,58,39,"JSON"],[59,53,58,43],[59,54,58,44,"stringify"],[59,63,58,53],[59,64,58,54,"newUser"],[59,71,58,61],[59,72,58,62],[59,73,58,63],[60,6,60,4,"api"],[60,9,60,7],[60,10,60,7,"default"],[60,17,60,7],[60,18,60,8,"defaults"],[60,26,60,16],[60,27,60,17,"headers"],[60,34,60,24],[60,35,60,25,"common"],[60,41,60,31],[60,42,60,32],[60,57,60,47],[60,58,60,48],[60,61,60,51],[60,71,60,61,"newToken"],[60,79,60,69],[60,81,60,71],[61,6,61,4,"setToken"],[61,14,61,12],[61,15,61,13,"newToken"],[61,23,61,21],[61,24,61,22],[62,6,62,4,"setUser"],[62,13,62,11],[62,14,62,12,"newUser"],[62,21,62,19],[62,22,62,20],[63,4,63,2],[63,5,63,3],[64,4,65,2],[64,10,65,8,"register"],[64,18,65,16],[64,21,65,19],[64,27,65,19,"register"],[64,28,65,26,"email"],[64,33,65,39],[64,35,65,41,"password"],[64,43,65,57],[64,45,65,59,"name"],[64,49,65,71],[64,54,65,76],[65,6,66,4],[65,12,66,10,"response"],[65,20,66,18],[65,23,66,21],[65,29,66,27,"api"],[65,32,66,30],[65,33,66,30,"default"],[65,40,66,30],[65,41,66,31,"post"],[65,45,66,35],[65,46,66,36],[65,66,66,56],[65,68,66,58],[66,8,66,60,"email"],[66,13,66,65],[67,8,66,67,"password"],[67,16,66,75],[68,8,66,77,"name"],[69,6,66,82],[69,7,66,83],[69,8,66,84],[70,6,67,4],[70,12,67,10],[71,8,67,12,"token"],[71,13,67,17],[71,15,67,19,"newToken"],[71,23,67,27],[72,8,67,29,"user"],[72,12,67,33],[72,14,67,35,"newUser"],[73,6,67,43],[73,7,67,44],[73,10,67,47,"response"],[73,18,67,55],[73,19,67,56,"data"],[73,23,67,60],[74,6,69,4],[74,12,69,10,"AsyncStorage"],[74,24,69,22],[74,25,69,22,"default"],[74,32,69,22],[74,33,69,23,"setItem"],[74,40,69,30],[74,41,69,31],[74,48,69,38],[74,50,69,40,"newToken"],[74,58,69,48],[74,59,69,49],[75,6,70,4],[75,12,70,10,"AsyncStorage"],[75,24,70,22],[75,25,70,22,"default"],[75,32,70,22],[75,33,70,23,"setItem"],[75,40,70,30],[75,41,70,31],[75,47,70,37],[75,49,70,39,"JSON"],[75,53,70,43],[75,54,70,44,"stringify"],[75,63,70,53],[75,64,70,54,"newUser"],[75,71,70,61],[75,72,70,62],[75,73,70,63],[76,6,72,4,"api"],[76,9,72,7],[76,10,72,7,"default"],[76,17,72,7],[76,18,72,8,"defaults"],[76,26,72,16],[76,27,72,17,"headers"],[76,34,72,24],[76,35,72,25,"common"],[76,41,72,31],[76,42,72,32],[76,57,72,47],[76,58,72,48],[76,61,72,51],[76,71,72,61,"newToken"],[76,79,72,69],[76,81,72,71],[77,6,73,4,"setToken"],[77,14,73,12],[77,15,73,13,"newToken"],[77,23,73,21],[77,24,73,22],[78,6,74,4,"setUser"],[78,13,74,11],[78,14,74,12,"newUser"],[78,21,74,19],[78,22,74,20],[79,4,75,2],[79,5,75,3],[80,4,77,2],[80,10,77,8,"logout"],[80,16,77,14],[80,19,77,17],[80,25,77,17,"logout"],[80,26,77,17],[80,31,77,29],[81,6,78,4],[81,12,78,10,"AsyncStorage"],[81,24,78,22],[81,25,78,22,"default"],[81,32,78,22],[81,33,78,23,"removeItem"],[81,43,78,33],[81,44,78,34],[81,51,78,41],[81,52,78,42],[82,6,79,4],[82,12,79,10,"AsyncStorage"],[82,24,79,22],[82,25,79,22,"default"],[82,32,79,22],[82,33,79,23,"removeItem"],[82,43,79,33],[82,44,79,34],[82,50,79,40],[82,51,79,41],[83,6,80,4],[83,13,80,11,"api"],[83,16,80,14],[83,17,80,14,"default"],[83,24,80,14],[83,25,80,15,"defaults"],[83,33,80,23],[83,34,80,24,"headers"],[83,41,80,31],[83,42,80,32,"common"],[83,48,80,38],[83,49,80,39],[83,64,80,54],[83,65,80,55],[84,6,81,4,"setToken"],[84,14,81,12],[84,15,81,13],[84,19,81,17],[84,20,81,18],[85,6,82,4,"setUser"],[85,13,82,11],[85,14,82,12],[85,18,82,16],[85,19,82,17],[86,4,83,2],[86,5,83,3],[87,4,85,2],[87,10,85,8,"updateUser"],[87,20,85,18],[87,23,85,22,"data"],[87,27,85,41],[87,31,85,46],[88,6,86,4],[88,10,86,8,"user"],[88,14,86,12],[88,16,86,14],[89,8,87,6],[89,14,87,12,"updated"],[89,21,87,19],[89,24,87,19,"Object"],[89,30,87,19],[89,31,87,19,"assign"],[89,37,87,19],[89,42,87,27,"user"],[89,46,87,31],[89,48,87,36,"data"],[89,52,87,40],[89,53,87,42],[90,8,88,6,"setUser"],[90,15,88,13],[90,16,88,14,"updated"],[90,23,88,21],[90,24,88,22],[91,8,89,6,"AsyncStorage"],[91,20,89,18],[91,21,89,18,"default"],[91,28,89,18],[91,29,89,19,"setItem"],[91,36,89,26],[91,37,89,27],[91,43,89,33],[91,45,89,35,"JSON"],[91,49,89,39],[91,50,89,40,"stringify"],[91,59,89,49],[91,60,89,50,"updated"],[91,67,89,57],[91,68,89,58],[91,69,89,59],[92,6,90,4],[93,4,91,2],[93,5,91,3],[94,4,93,2],[94,24,94,4],[94,28,94,4,"_reactJsxDevRuntime"],[94,47,94,4],[94,48,94,4,"jsxDEV"],[94,54,94,4],[94,56,94,5,"AuthContext"],[94,67,94,16],[94,68,94,17,"Provider"],[94,76,94,25],[95,6,94,26,"value"],[95,11,94,31],[95,13,94,33],[96,8,94,35,"user"],[96,12,94,39],[97,8,94,41,"token"],[97,13,94,46],[98,8,94,48,"isLoading"],[98,17,94,57],[99,8,94,59,"login"],[99,13,94,64],[100,8,94,66,"register"],[100,16,94,74],[101,8,94,76,"logout"],[101,14,94,82],[102,8,94,84,"updateUser"],[103,6,94,95],[103,7,94,97],[104,6,94,97,"children"],[104,14,94,97],[104,16,95,7,"children"],[105,4,95,15],[106,6,95,15,"fileName"],[106,14,95,15],[106,16,95,15,"_jsxFileName"],[106,28,95,15],[107,6,95,15,"lineNumber"],[107,16,95,15],[108,6,95,15,"columnNumber"],[108,18,95,15],[109,4,95,15],[109,11,96,26],[109,12,96,27],[110,2,98,0],[111,2,98,1,"_s"],[111,4,98,1],[111,5,27,16,"AuthProvider"],[111,17,27,28],[112,2,27,28,"_c"],[112,4,27,28],[112,7,27,16,"AuthProvider"],[112,19,27,28],[113,2,100,7],[113,11,100,16,"useAuth"],[113,18,100,23,"useAuth"],[113,19,100,23],[113,21,100,26],[114,4,100,26,"_s2"],[114,7,100,26],[115,4,101,2],[115,10,101,8,"context"],[115,17,101,15],[115,20,101,18],[115,24,101,18,"useContext"],[115,30,101,28],[115,31,101,28,"useContext"],[115,41,101,28],[115,43,101,29,"AuthContext"],[115,54,101,40],[115,55,101,41],[116,4,102,2],[116,8,102,6,"context"],[116,15,102,13],[116,20,102,18,"undefined"],[116,29,102,27],[116,31,102,29],[117,6,103,4],[117,12,103,10],[117,16,103,14,"Error"],[117,21,103,19],[117,22,103,20],[117,67,103,65],[117,68,103,66],[118,4,104,2],[119,4,105,2],[119,11,105,9,"context"],[119,18,105,16],[120,2,106,0],[121,2,106,1,"_s2"],[121,5,106,1],[121,6,100,16,"useAuth"],[121,13,100,23],[122,2,100,23],[122,6,100,23,"_c"],[122,8,100,23],[123,2,100,23,"$RefreshReg$"],[123,14,100,23],[123,15,100,23,"_c"],[123,17,100,23],[124,0,100,23],[124,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","register","logout","updateUser","useAuth"],"mappings":"AAA;OC0B;YCK;GDE;yBEE;GFe;gBGE;GHU;mBIE;GJU;iBKE;GLM;qBME;GNM;CDO;OQE;CRM"},"hasCjsExports":false},"type":"js/module"}]}